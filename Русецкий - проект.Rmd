---
title: "Система поддержки принятия решений в экологическом мониторинге предприятия"
author: "Русецкий Вячеслав Игоревич, группа М610М"
date: "19 декабря 2017 года"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Введение

<p align="justify">На сегодняшний день на территории Российской Федерации располагается множество предприятий тяжелой и легкой промышленности, каждое из которых выбрасывает в окружающую среду (ОС) большое количество загрязняющих веществ, стоков и отходов производства и потребления. Загрязняющие вещества попадают в воду, воздух, почву отравляя их и делая непригодными для дальнейшего использования человеком [1].<p/>

<p align="justify">Чтобы контролировать качество окружающей среды, а также проводить оценку и прогноз состояния ОС в районе действия предприятия, необходима современная система мониторинга, которая своевременно и четко должна сообщать экологу о текущей ситуации.<p/>

<p align="justify">Анализ деятельности экологических служб предприятий показал, что сегодня на предприятиях, в основном, проводят производственный экологический контроль (далее ПЭК), а не мониторинг. Производственный контроль осуществляется за соблюдением установленных нормативов и требований природоохранного законодательства к производственным объектам в соответствии с определенным графиком. Мониторинг же подразумевает систематические продолжительные наблюдения за состоянием окружающей среды.<p/>

<p align="justify">Однако, даже на территориях, где функционируют автоматизированные системы мониторинга с развитой сетью стационарных и мобильных станций, не наблюдается принципиального улучшения экологической ситуации.
В значительной степени это связано с самой системой мониторинга, поскольку даже если система адекватно оценивает текущее состояние природной среды и выявляет источники загрязнения, какого-либо управленческого решения данная система не выдает. По сути, система просто информирует человека (в частности, эколога предприятия) об экологической ситуации на территории предприятия и оставляет решение за человеком, не предоставляя ему возможные пути решения проблемы [2,3].<p/>

<p align="justify">Для того, чтобы в корне изменить экологическую ситуацию в промышленных областях страны, необходимо дополнить ПЭМ системами поддержки принятия решений (СППР), которые будут помогать экологам предприятия, предлагая решения для каждой конкретной ситуации. В частности, необходимо отметить, что количество экспертов в данной области ограничено, а предприятий по стране как крупных, так и средних, очень много, и не все экологи на предприятиях имеют соответствующий уровень знаний и опыта для решения специфических задач. При наличии СППР,  даже если эколог предприятия - только начинающий специалист с небольшим опытом работы, или данная задача является для него новой, система поможет ему решить конкретную ситуацию в максимально короткие сроки, не допустив экологической катастрофы.<p/>

    
## Методы исследования

<p align="justify">Методической основой работы являются: методы системного анализа, ситуационного управления, экспертных оценок, теории нечетких множеств и нечеткой логики.<p/>

<p align="justify">Для реализации прототипа СППР предлагается использовать нечеткую классификационную модель [4].<p/>

<p align="justify">Нечеткой классификационной моделью называется тройка $(W,P,U)$, в которой $W=X\times Y\times...Z$ – многомерное пространство признаков-факторов, наиболее существенно влияющих на выбор управляющих решений; $P=\{P_1,P_2,…P_q\}$ – разбиение $W$ на нечеткие эталонные классы $P_s$, $s=1,2,…q$; $U=\{u_1,u_2,…,u_q\}$ – множество управляющих решений $u_s$, соответствующих классам $P_s$.<p/>

<p align="justify">Для построения нечетких классификационных моделей, исходя из содержательного анализа и целей исследования, выделяется множество признаков-факторов $W=X,Y,...,Z$, которые наиболее существенно влияют на выбор решений $u_s\in U$, $s=1,2,…,q$, и формируется пространство $W=X\times Y\times...Z$. Этот этап является неформальным и существенно зависит от предметной области, критериев классификации, квалификации исследователя. Однако в большинстве случаев нахождение признаков не составляет особого труда, поскольку они выявляются сразу при осмыслении задачи, ее формализации, выделения целей и критериев.<p/>

<p align="justify">С каждым из выделенных признаков связывают некоторую лингвистическую переменную $A,B,…,C$ со своими значениями $\{a_i\}$, $i=1,…,m$; $\{b_j\}$, $j=1,…,n$; $\{c_k\}$, $k=1,…,l$. Для этих лингвистических значений строятся ФП $\mu_i(x), \mu_j(y), \mu_k(z)$  на соответствующих базовых шкалах $X,Y,…,Z$.<p/>

<p align="justify">Качественная структура модели управления строится в виде решающей таблицы. Строки таблицы соответствуют всевозможным наборам $(a_i,b_j,…,c_k)$ лингвистических значений переменных $A,B,…,C$. Для каждого такого набора определяется одно из возможных управляющих решений $u_s\in U$, которое было бы принято в ситуации, словесно описанной соответствующим набором. Этот шаг является неформальным и зависит как от специфики самой задачи, так и от квалификации эксперта.<p/>

<p align="justify">На заключительном этапе строится нечеткая классификационная модель $(W,P,U)$, в которой $W=X,Y,...,Z$, $P=\{P_1,P_2,…P_q\}$, $U=\{u_1,u_2,…,u_q\}$. Каждый нечеткий класс $P_s$ разбиения $P$ характеризуется ФП $\mu_s (x,y,z)$, задаваемой нечеткой логической формулой:<p/>
 
 $$\mu_s(x,y,...,z)=\frac{\vee}{(a_i,b_j,...c_k)\in L_s} (\mu_i(x) \wedge \mu_j(y) \wedge...\wedge\mu_k(z)),$$
 
 
<p align="justify">где $L_s$ – множество наборов $(a_i,b_j,…,c_k)$, которым в решающей таблице соответствует решение $u_s$, $s=1,…,q$; $\vee$ – знак операции max.<p/>

<p align="justify">Если ситуация, характеризующая состояние объекта или процесса, представлена точкой $w0=(x_0,y_0,…,z_0)$ в пространстве $W$, то алгоритм выработки управляющего решения на основе нечеткой классификационной модели сводится к следующей формальной процедуре:<p/>

* подставляем точку $w_0=(x_0,y_0,…,z_0)$ в ФП эталонных классов $\mu_s(x,y,...,z)$ и вычисляем значения $\mu_s(x_0,y_0,...,z_0)$, $s=1,…,q$;
* находим $s=s_0$, такое, что  $\mu_{s_0}(x_0,y_0,...,z_0) = max\mu_s(x_0,y_0,...,z_0)$;
* принимаем решение $u_{s_0}$ , соответствующее эталонному классу $P_{s_0}$

<p align="justify">СППР, используя данные ПЭМ, анализирует различные параметры ОС, такие как:<p/>

*	концентрацию загрязняющих веществ (ЗВ)  в атмосферном воздухе;
*	концентрацию ЗВ в водных объектах;
*	концентрацию ЗВ на границе санитарно-защитной зоны (СЗЗ);
*	мощность работы предприятия; 
*	эффективность работы очистных установок;
*	мощность выбросов из источников и др.

<p align="justify">Также существуют потенциально неизвестные параметры, которые могут повлияют на принятие решений, но которые трудно проанализировать:<p/>

*	человеческий фактор (ошибки при проектировании системы);
*	природные явления (грозы, ураганы, землетрясения и др.);
*	технические факторы (усталость металла, сбой системы, сбой датчиков и др.).

<p align="justify">В результате воздействия таких факторов управленческое решение может не соответствовать истинному положению вещей.<p/> 

<p align="justify">К примеру, датчик выдает превышение концентрации пыли, а на самом деле концентрация мала, система выдаст решение увеличить мощность очистки, что приведет к холостой работе очистного оборудования и его быстрому износу.<p/>

<p align="justify">Входные параметры фаззифицируются, система оперирует лингвистическими и нечеткими переменными и соответствующими им функциями принадлежности (ФП).<p/>

<p align="justify">База знаний формируется на основе знаний экспертов в таких областях, как защита окружающей среды, безопасность технологических производств и т. п. путем их опроса, анализа и формализации ответов. В дальнейшем можно развить систему до уровня самообучения, а также дистанционного заполнения экспертами.<p/>

<p align="justify">Блок логического вывода реализует описанную выше классификационную модель. Управленческие решения так же, как и база знаний, формируются на основе знаний экспертов.<p/>


## Результаты работы

<p align="justify">В результате работы была получена модель системы оценки состояния атмосферного воздуха со следующими переменными (признаками):<p/>

*	концентрация пыли, как загрязнителя атмосферного воздуха при работе предприятия, в долях ПДК. Концентрацию ниже 5 ПДК будем считать нормальной, от 5 до 15 плохой, от 15 до 100 критической. 
*	мощность работы очистного оборудования предприятия, как основного инструмента уменьшения концентрации загрязняющего вещества – пыли, в процентах. Мощность ниже 50% будем считать плохой, от 50 до 90% - нормальной, больше 90% - хорошей.
*	состояние атмосферного воздуха, на основании которого должно приниматься управленческое решение, в процентах. Состояние воздуха может быть плохим, нормальным и хорошим.

<p align="justify">Опишем правила для оценки состояния атмосферного воздуха:<p/>

*	если мощность хорошая и концентрация нормальная, то состояния хорошее;
*	если мощность нормальная и концентрация нормальная, то состояние нормальное;
*	если концентрация плохая, то состояние плохое;
*	если концентрация нормальная, то состояние хорошее;
*	если концентрация критическая, то состояние плохое;
*	если мощность плохая, то состояние плохое;
*	если мощность хорошая, то состояние хорошее;
*	если мощность нормальная, то состояние нормальное.

<p align="justify">Для проверки работы системы были заданы исходные значения:<p/>

*	концентрация пыли – 1 ПДК;
*	мощность очистного оборудования – 95%.

<p align="justify">На рисунке 1 представлен результат работы модели.<p/>

```{r, echo=FALSE, warning=FALSE}
library("sets")
sets_options("universe", seq(from=0, to=100, by=0.1))
var<-set(Dust=fuzzy_variable(
                           NORMAL=fuzzy_triangular(corners = c(-1,0,3)),                         
                           BAD=fuzzy_triangular(corners = c(3,10,15)),
                           CRITICAL=fuzzy_triangular(corners = c(15,100,110))
                           ), 
         OCHIST=fuzzy_variable(
                          BAD=fuzzy_triangular(corners = c(-1,0,50)),
                          NORMAL=fuzzy_triangular(corners = c(50,70,90)), 
                          GOOD=fuzzy_triangular(corners = c(90,100,110))
                          ), 
         REZULT=fuzzy_variable(
                              BAD=fuzzy_triangular(corners = c(-1,0,40)),
                              NORMAL=fuzzy_triangular(corners = c(40,60,80)), 
                              GOOD=fuzzy_triangular(corners = c(60,100,110))
                          )
         )
         
rulez<-set(fuzzy_rule(Dust %is% BAD, REZULT %is% BAD),
           fuzzy_rule(Dust %is% CRITICAL, REZULT %is% BAD),
           fuzzy_rule(Dust %is% NORMAL, REZULT %is% GOOD),
           fuzzy_rule(OCHIST %is% NORMAL, REZULT %is% NORMAL),
           fuzzy_rule(OCHIST %is% BAD, REZULT %is% BAD),
           fuzzy_rule(OCHIST %is% NORMAL, REZULT %is% GOOD),
           fuzzy_rule(OCHIST %is% GOOD, REZULT %is% GOOD),
           fuzzy_rule(OCHIST %is% GOOD && Dust %is% NORMAL, REZULT %is% GOOD),
           fuzzy_rule(OCHIST %is% NORMAL && Dust %is% NORMAL, REZULT %is% NORMAL))
system<-fuzzy_system(var,rulez)
x<-c(1,95)
names(x)<-c("Dust","OCHIST")
fi<-fuzzy_inference(system,x)
layout (matrix (c (1,2,3,4), 2, 2))
plot(system)
par(new=TRUE)
plot(fi)
```
<p align="justify">Рис. 1 – Результат работы модели. На верхних и первом нижнем графике показаны функций принадлежности лингвистических переменных для признаков системы, четвертый – график кривой функции принадлежности, соответствующей выходной лингвистической переменной.<p/>


<p align="justify">Однако для того чтобы выдать управленческое решение необходимо знать точное значение состояния атмосферного воздуха. Для этого проведем дефаззификацию, под которой в системах нечеткого вывода понимают процесс перехода от функции принадлежности выходной лингвистической переменной к её четкому (числовому) значению. Дефазификация проводится методом центра тяжести.<p/>

```{r, echo=FALSE, warning=FALSE}
gset_defuzzify(fi,"centroid")
```

<p align="justify">Получим результат, что состояние атмосферного воздуха составляет 85.6% и является хорошим. Получается, что на состояние атмосферного воздуха влияют другие факторы, помимо концентрации и мощности очистного оборудования. Также возможно, что недостаточно полно описаны правила системы.<p/>

<p align="justify">Расчеты носят теоретический характер и с выборочными данными работа пока не проводиться. <p/>

## Заключение

<p align="justify">Целью работы была разработка прототипа СППР на основе нечеткой логики. В результате работы была реализована модель системы на основе нечеткой логики, но не реализован блок управленческих решений. Данная модель способна выдавать лишь данные состояния атмосферного воздуха при определенных входных параметрах, но выдавать управленческое решение она не может.<p/>

<p align="justify">В дальнейшем требуется доработать модель, добавив блок управленческих решений, расширить количество переменных и увеличить количество правил.<p/>


## Список используемой литературы

1.	Об охране окружающей среды Российской Федерации в 2015 году: Государственный доклад. М.: Минприроды, 2016. 640 с.
2.	Ворошилов Я.С. и др. Автоматизированные системы экологического мониторинга производственных предприятий и экологически неблагоприятных районов кемеровской области  // Вестник научного центра по безопасности работ в угольной промышленности. 2008. №2. С.10-12.
3.	Горюнкова А. А. Современное состояние и подходы к разработке систем мониторинга загрязнения атмосферы // Известия Тульского государственного университета. 2013. №11. С. 251-259.
4.	Малышев  Н. Г. и др. Нечеткие модели для экспертных систем в САПР. М.: Энергоатомиздат,1991. 136с.







